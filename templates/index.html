<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TecTalk</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">TecTalk</header>

    <!-- Navbar -->
    <nav class="nav-bar">
        <div class="nav-bar__links">
            <a href="#" class="nav-bar__link">Home</a>
            <a href="categories" class="nav-bar__link">Categories</a>
            <a href="#" class="nav-bar__link">Latest</a>
            <a href="#" class="nav-bar__link">Trending</a>
        </div>
        {% if current_user.is_authenticated %}
        <div class="user-menu" onclick="toggleDropdown()">
            <img
                src="{{ url_for('static', filename='defalt_avatar.jpg') }}"
                alt="User Avatar"
                class="user-menu__avatar"
            />
            <span class="user-menu__name">{{ current_user.username }}</span>
            <div id="dropdownMenu" class="dropdown">
                <a
                    href="{{ url_for('account_settings') }}"
                    class="dropdown__link"
                    >Account Settings</a
                >
                <a
                    href="{{ url_for('logout') }}"
                    id="logoutLink"
                    class="dropdown__link"
                    onclick="confirmLogout(event)"
                    >Logout</a
                >
            </div>
        </div>
        {% else %}
        <a href="{{ url_for('login') }}" class="btn btn--login">Login</a>
        {% endif %}
    </nav>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Chatbox -->
            <section id="chat-container" class="chat-box">
                <header id="chat-header" class="chat-box__header">
                    <span>Chatbox</span>
                </header>
                <div id="chat-content" class="chat-box__content">
                    <ul id="messages" class="chat-box__messages">
                        <!-- Messages will go here (Waiting for update) -->
                    </ul>
                </div>
                <div id="chat-input" class="chat-box__input">
                    <input
                        id="message"
                        class="chat-box__text-input"
                        autocomplete="off"
                        placeholder="Say Something..."
                    />
                    <button id="send" class="chat-box__send-btn">Send</button>
                </div>
            </section>

            <!-- Announcements Section (side) -->
            <section class="announcements">
                <div class="announcements__header">Announcements</div>
                <div class="announcements__buttons">
                    <button class="announcements__button">New Thread</button>
                    <button class="announcements__button">New Topic</button>
                </div>
                <div class="announcements__content">
                    <!-- Waiting for updates -->
                    <p>No announcements yet. Stay tuned for updates!</p>
                </div>
            </section>
        </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script src="{{ url_for('static', filename='index.js') }}"></script>
</body>
</html>
